#!/bin/bash

rm -rf ../logs
mkdir -p ../logs

args=${@:-"l R r a"}
options=`./powerset $args`
dirs=(".")

echo_infos()
{
    echo `tput setaf 5`
    echo avec l\(es\) options $1
	echo pour le\(s\) folder\(s\) $2
	echo -n `tput setaf 2`	
}

go()
{
	echo evaluating : $1 -$3 $4
	eval "$1 -$3 $4 | cat -e" > ../logs/`echo $3$4`$2
}
 
for option in $options
do
	for dir in $dirs
	do
		echo_infos $option $dir
		go ls logVrai $option $dir
		go ../ft_ls logMoi $option $dir
		diff ../logs/`echo $option$dir`logVrai ../logs/`echo $option$dir`logMoi
	done
done
